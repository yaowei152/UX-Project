<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - NYP Athletics</title>
    <link rel="icon" type="image/png" href="images/Athletics logo.png" sizes="32x32" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="css/updatedmain.css">
    <link rel="stylesheet" href="css/contactus.css">
</head>
<body>

    <div class="background-logo">
        <img src="images/Athletics logo.png" alt="Athletics Logo">
    </div>

    <header>
        <div class="sticky-header">
            <div class="top-bar">
                NANYANG | THE INNOVATIVE POLYTECHNIC
            </div>
            
            <nav class="navbar" id="mainNavbar">
                <div class="navdiv">
                    <div class="brand">
                        <a href="Main.html">
                            <img class="logo" src="images/NYP_Logo-removebg-preview.png" alt="NYP Logo">
                        </a>
                    </div>
                    <ul class="nav_links">
                        <li><a href="Main.html">Home</a></li>
                        <li><a href="CCA.html">CCAs</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="contactus.html">Contact Us</a></li>
                    </ul>
                    <div class="nav-right">
                        <div class="search">
                            <i class="fas fa-search search-icon"></i>
                            <input type="text" placeholder="Search for information..." />
                        </div>
                        <div class="profile">
                            <a href="profile.html">
                                <i class="fa-solid fa-user"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <main>
        <section class="contact-section">
            <div class="contact-container">
                <div class="contact-form-wrapper">
                    <h1 class="contact-title">Get In Touch</h1>
                    <p class="contact-subtitle">Have a question or need assistance? Fill out the form below and we'll get back to you.</p>
                    <form id="contactForm" class="contact-form">
                        <div class="form-group">
                            <label for="fullName">Full Name</label>
                            <input type="text" id="fullName" name="fullName" required>
                        </div>
                        <div class="form-group">
                            <label for="adminNumber">Admin Number</label>
                            <input type="text" id="adminNumber" name="adminNumber" required
                                   pattern="[0-9]{6}[a-zA-Z]"
                                   title="Admin number must be 6 digits followed by a letter (e.g., 123456A).">
                        </div>
                        <div class="form-group">
                            <label for="email">School Email</label>
                            <input type="email" id="email" name="email" required 
                                   pattern="[0-9]{6}[a-zA-Z]@mymail\.nyp\.edu\.sg"
                                   title="Please use your school email, which should match your admin number (e.g., 123456A@mymail.nyp.edu.sg).">
                        </div>
                        <div class="form-group">
                            <label for="message">Your Message</label>
                            <textarea id="message" name="message" rows="6" required></textarea>
                        </div>
                        <button type="submit" class="submit-button">Send Message</button>
                    </form>
                </div>

                <div class="contact-info-wrapper">
                    <div class="contact-info-card">
                        <h2>Contact Information</h2>
                        <p>For urgent matters, you can also reach us directly through the channels below.</p>
                        <div class="info-item">
                            <i class="fas fa-envelope"></i>
                            <div>
                                <strong>Email Us</strong>
                                <a href="mailto:athletics@nyp.edu.sg">athletics@nyp.edu.sg</a>
                            </div>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-phone"></i>
                            <div>
                                <strong>Call Us</strong>
                                <span>+65 6451 5115</span>
                            </div>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <div>
                                <strong>Find Us</strong>
                                <span>180 Ang Mo Kio Ave 8, Singapore 569830</span>
                            </div>
                        </div>
                    </div>
                <div class="map-wrapper">
                    <iframe 
                        src="https://maps.google.com/maps?q=Nanyang%20Polytechnic,180%20Ang%20Mo%20Kio%20Ave%208,%20Singapore%20569830&t=&z=15&ie=UTF8&iwloc=&output=embed" 
                        width="100%" 
                        height="300" 
                        style="border:0;" 
                        allowfullscreen="" 
                        loading="lazy" 
                        referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                </div>
            </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <div id="successModal" class="modal-overlay">
        <div class="modal-content">
            <span class="modal-close-btn">&times;</span>
            <div class="modal-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2>Message Sent!</h2>
            <p>Thank you for reaching out. Your message has been received successfully.</p>
            <p>We will get back to you at your school email within 1-3 business days.</p>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-column">
                <h3>About NYP Athletics</h3>
                <p>Nanyang Polytechnic Athletics is dedicated to developing student-athletes through competitive sports and character building.</p>
            </div>
            <div class="footer-column">
                <h3>Quick Links</h3>
                <ul class="footer-links">
                    <li><a href="Main.html">Home</a></li>
                    <li><a href="#">Events</a></li>
                    <li><a href="#">Teams</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Contact Us</h3>
                <ul class="footer-links">
                    <li><i class="fas fa-map-marker-alt"></i> 180 Ang Mo Kio Ave 8</li>
                    <li><i class="fas fa-phone"></i> +65 6451 5115</li>
                    <li><i class="fas fa-envelope"></i> athletics@nyp.edu.sg</li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Follow Us</h3>
                <div class="social-icons">
                    <a href="#" class="social-icon" aria-label="Follow us on Facebook"><i class="fab fa-facebook"></i></a>
                    <a href="#" class="social-icon" aria-label="Follow us on Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="social-icon" aria-label="Follow us on Instagram"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
        </div>
        <div class="copyright">
            &copy; 2025 Nanyang Polytechnic Athletics. All Rights Reserved.
        </div>
    </footer>
    
    <div class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </div>

    <script>
        // --- SCRIPT FOR CONTACT PAGE ---

        const contactForm = document.getElementById('contactForm');
        const successModal = document.getElementById('successModal');
        const closeModalBtn = document.querySelector('.modal-close-btn');

        contactForm.addEventListener('submit', function(e) {
            e.preventDefault(); // Prevent the default form submission

            // --- UPDATED: VALIDATION LOGIC ---
            const adminNumberInput = document.getElementById('adminNumber');
            const emailInput = document.getElementById('email');
            const adminNumber = adminNumberInput.value.trim().toUpperCase();
            const email = emailInput.value.trim();
            
            const adminRegex = /^[0-9]{6}[A-Z]$/;

            // 1. Validate Admin Number format
            if (!adminRegex.test(adminNumber)) {
                alert('Invalid Admin Number.\nPlease enter 6 digits followed by one letter (e.g., 123456A).');
                return; // Stop the form submission
            }

            // 2. Validate Email format and ensure it matches the Admin Number
            const expectedEmail = adminNumber + '@mymail.nyp.edu.sg';
            if (email.toLowerCase() !== expectedEmail.toLowerCase()) {
                alert(`Invalid School Email.\nYour email must match your admin number. It should be: ${expectedEmail}.`);
                return; // Stop the form submission
            }
            // --- END VALIDATION ---
            
            // For this demonstration, we'll just show the success message.
            successModal.style.display = 'flex'; // Show the modal
            
            // Reset the form fields after submission
            contactForm.reset();
        });

        // Function to close the modal
        const closeModal = () => {
            successModal.style.display = 'none';
        };

        // Close modal when the 'x' button is clicked
        closeModalBtn.addEventListener('click', closeModal);

        // Close modal when clicking on the dark overlay
        window.addEventListener('click', function(e) {
            if (e.target === successModal) {
                closeModal();
            }
        });

        // --- SCRIPT FOR SHARED COMPONENTS (NAVBAR, BACK-TO-TOP) ---
        const mainNavbar = document.getElementById('mainNavbar');
        const backToTopBtn = document.getElementById('backToTop');

        window.addEventListener('scroll', function() {
            // Add shadow effect to navbar on scroll
            if (window.scrollY > 10) {
                mainNavbar.classList.add('scrolled');
            } else {
                mainNavbar.classList.remove('scrolled');
            }
            
            // Show/hide back to top button
            if (window.scrollY > 500) {
                backToTopBtn.classList.add('show');
            } else {
                backToTopBtn.classList.remove('show');
            }
        });
        
        // Back to top functionality
        backToTopBtn.addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    </script>
</body>
</html>